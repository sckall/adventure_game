# UI/UXæ”¹è¿›ç³»ç»Ÿ - å®ç°æ–‡æ¡£

## æ¦‚è¿°

ä¸ºæ¸¸æˆæ·»åŠ äº†ä¸‰ä¸ªé‡è¦çš„UI/UXç³»ç»Ÿï¼Œæ˜¾è‘—æå‡ç©å®¶ä½“éªŒã€‚

## æ–°å¢æ–‡ä»¶

### 1. Bossé¢„å‘Šç³»ç»Ÿ

#### scripts/boss_intro_ui.gd
Bossé¢„å‘Šç•Œé¢æ§åˆ¶å™¨ï¼š
- æ˜¾ç¤ºBossåç§°ã€ç§°å·ã€HPå€¼
- åˆ—å‡ºBossçš„ç‰¹æ®Šèƒ½åŠ›
- æ’­æ”¾é¢„å‘ŠåŠ¨ç”»ï¼ˆæ·¡å…¥æ·¡å‡ºã€HPæ¡å¡«å……ã€è­¦å‘Šé—ªçƒï¼‰

#### scenes/boss_intro_ui.tscn
Bossé¢„å‘Šç•Œé¢åœºæ™¯

### 2. æˆ˜æ–—ç»Ÿè®¡é¢æ¿

#### scripts/combat_stats_panel.gd
å®æ—¶æˆ˜æ–—ç»Ÿè®¡é¢æ¿ï¼š
- é€ æˆ/å—åˆ°ä¼¤å®³ç»Ÿè®¡
- å‘½ä¸­æ¬¡æ•°ç»Ÿè®¡
- è¿å‡»è®¡æ•°å™¨
- æˆ˜æ–—æ—¶é—´è®¡æ—¶
- Bossè¡€é‡å®æ—¶æ˜¾ç¤º
- AIå­¦ä¹ åˆ†ææ˜¾ç¤º

#### scenes/combat_stats_panel.tscn
æˆ˜æ–—ç»Ÿè®¡é¢æ¿åœºæ™¯

### 3. æ­»äº¡å›æ”¾ç³»ç»Ÿ

#### scripts/death_replay_system.gd
æ­»äº¡å›æ”¾æ ¸å¿ƒç³»ç»Ÿï¼š
- å½•åˆ¶æˆ˜æ–—è¿‡ç¨‹ï¼ˆæœ€å¤š10ç§’ï¼Œ30 FPSï¼‰
- å›æ”¾æˆ˜æ–—è¿‡ç¨‹
- åˆ†ææˆ˜æ–—æ•°æ®

#### scripts/death_replay_ui.gd
æ­»äº¡å›æ”¾ç•Œé¢UI

#### scenes/death_replay_ui.tscn
æ­»äº¡å›æ”¾ç•Œé¢åœºæ™¯

## åŠŸèƒ½ç‰¹æ€§

### Bossæˆ˜é¢„å‘Šç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              VS                      â”‚
â”‚                                     â”‚
â”‚         å±±åœ°é¢†ä¸»                     â”‚
â”‚      å±±è„‰çš„å®ˆæŠ¤è€…                    â”‚
â”‚                                     â”‚
â”‚   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘  10/10 HP       â”‚
â”‚                                     â”‚
â”‚  âš”ï¸ è¿‘æˆ˜ä¸“å®¶                         â”‚
â”‚  ğŸ’¥ å†²æ’æ”»å‡»                         â”‚
â”‚  ğŸ”® å¼¹å¹•æ”»å‡»                         â”‚
â”‚                                     â”‚
â”‚  âš ï¸ å‡†å¤‡æˆ˜æ–—ï¼âš ï¸                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç‰¹ç‚¹**ï¼š
- 3.5ç§’åŠ¨ç”»å±•ç¤º
- æ ¹æ®Boss HPè‡ªåŠ¨æ˜¾ç¤ºå¯¹åº”èƒ½åŠ›
- æˆ˜æ–—å¼€å§‹åè‡ªåŠ¨éšè—

### æˆ˜æ–—ç»Ÿè®¡é¢æ¿

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš”ï¸ æˆ˜æ–—ç»Ÿè®¡                        â”‚
â”‚                                     â”‚
â”‚  é€ æˆä¼¤å®³: 150                      â”‚
â”‚  å—åˆ°ä¼¤å®³: 30                       â”‚
â”‚  å‘½ä¸­æ¬¡æ•°: 12 / 3                   â”‚
â”‚  è¿å‡»: 5 (æœ€å¤§: 8)                  â”‚
â”‚  æˆ˜æ–—æ—¶é—´: 1:23                     â”‚
â”‚                                     â”‚
â”‚  Bossè¡€é‡:                          â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 60%                   â”‚
â”‚                                     â”‚
â”‚  ğŸ§  AIåˆ†æ:                         â”‚
â”‚  â€¢ æ£€æµ‹åˆ°: åå¥½å‘å·¦ç§»åŠ¨              â”‚
â”‚  â€¢ é¢„æµ‹ç²¾åº¦: 75%                    â”‚
â”‚  â€¢ é€‚åº”æ”»å‡»: å®šå‘çˆ†å‘, éœ‡åœ°æ³¢        â”‚
â”‚                                     â”‚
â”‚  [å…³é—­]                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç‰¹ç‚¹**ï¼š
- å®æ—¶æ›´æ–°ï¼ˆæ¯0.1ç§’ï¼‰
- Bossè¡€é‡é¢œè‰²éšè¡€é‡å˜åŒ–ï¼ˆç»¿â†’é»„â†’çº¢ï¼‰
- æ˜¾ç¤ºAIæ­£åœ¨å­¦ä¹ çš„å†…å®¹

### æ­»äº¡å›æ”¾ç³»ç»Ÿ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’€ ä½ è¢«å‡»è´¥äº†ï¼                     â”‚
â”‚                                     â”‚
â”‚  æ­»äº¡åˆ†æ:                           â”‚
â”‚  â€¢ å¹³å‡ä¸Bossè·ç¦»: 85                â”‚
â”‚  â€¢ å±é™©æ—¶é—´å æ¯”: 65%                 â”‚
â”‚  â€¢ Bossæ”»å‡»æ¬¡æ•°: 8                   â”‚
â”‚                                     â”‚
â”‚  å›æ”¾è¿›åº¦:                           â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 40%               â”‚
â”‚  0:04 / 0:10                        â”‚
â”‚                                     â”‚
â”‚  [ğŸ“¹ é‡æ’­å›æ”¾] [ğŸ”„ é‡æ–°æŒ‘æˆ˜] [â¡ï¸ è¿”å›] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç‰¹ç‚¹**ï¼š
- è®°å½•æ­»äº¡å‰10ç§’æˆ˜æ–—
- 30 FPSå¸§ç‡
- æ”¯æŒè·³è½¬åˆ°ä»»æ„å¸§
- è‡ªåŠ¨åˆ†ææˆ˜æ–—æ•°æ®

## APIä½¿ç”¨

### Bossé¢„å‘Š

```gdscript
# Bosså‘å‡ºä¿¡å·
boss.boss_intro_requested.emit()

# main.gdä¸­å¤„ç†
func _on_boss_intro_requested(boss):
    boss_intro_ui.show_boss_intro(
        boss.boss_name,
        "Bossç§°å·",
        boss.max_hp,
        ["è¿‘æˆ˜", "å¼¹å¹•", "å†²æ’"]  # èƒ½åŠ›åˆ—è¡¨
    )
```

### æˆ˜æ–—ç»Ÿè®¡

```gdscript
# æ›´æ–°ç»Ÿè®¡
combat_stats_panel.increment_stat("hits_landed")
combat_stats_panel.update_boss_hp(current_hp, max_hp)

# æ›´æ–°AIä¿¡æ¯
combat_stats_panel.update_ai_info("åå¥½å‘å·¦ç§»åŠ¨", 0.75, "å®šå‘çˆ†å‘")
```

### æ­»äº¡å›æ”¾

```gdscript
# å¼€å§‹å½•åˆ¶ï¼ˆBossåˆ›å»ºæ—¶ï¼‰
death_replay_system.start_recording(player, boss)

# æ¯å¸§è®°å½•
death_replay_system.record_frame()

# ç©å®¶æ­»äº¡æ—¶
var replay_data = death_replay_system.stop_recording()
death_replay_ui.show_death_replay(death_replay_system, replay_data)

# å›æ”¾
death_replay_system.start_replay(replay_data, player, boss)
```

## é›†æˆç‚¹

### main.gd
- `_init_ui_systems()` - åˆå§‹åŒ–æ‰€æœ‰UIç³»ç»Ÿ
- `_on_boss_intro_requested()` - å¤„ç†Bossé¢„å‘Š
- `_on_boss_stats_updated()` - æ›´æ–°æˆ˜æ–—ç»Ÿè®¡
- `_on_ai_learning_updated()` - æ›´æ–°AIå­¦ä¹ æ˜¾ç¤º
- `_on_player_died()` - å¤„ç†ç©å®¶æ­»äº¡å’Œå›æ”¾

### ai_boss.gd
- `boss_intro_requested` - Bossåˆ›å»ºæ—¶è§¦å‘é¢„å‘Š
- `stats_updated` - å—ä¼¤æ—¶æ›´æ–°ç»Ÿè®¡
- `ai_learning_updated` - AIé€‚åº”æ”»å‡»æ—¶æ›´æ–°

### player.gd
- `player_died` - æ­»äº¡æ—¶è§¦å‘ä¿¡å·

## é…ç½®é€‰é¡¹

### Bossé¢„å‘Š
```gdscript
const INTRO_DURATION: float = 3.5  # é¢„å‘ŠæŒç»­æ—¶é—´
```

### æ­»äº¡å›æ”¾
```gdscript
const MAX_REPLAY_DURATION: float = 10.0  # æœ€é•¿å½•åˆ¶10ç§’
const RECORD_INTERVAL: float = 1.0 / 30.0  # 30 FPS
```

## æ‰©å±•å»ºè®®

1. **Bossé¢„å‘Š**
   - æ·»åŠ BossèƒŒæ™¯æ•…äº‹æ–‡æœ¬
   - æ·»åŠ Boss 3Dæ¨¡å‹é¢„è§ˆ
   - æ·»åŠ éŸ³æ•ˆå’Œè¯­éŸ³

2. **æˆ˜æ–—ç»Ÿè®¡**
   - æ·»åŠ è¯¦ç»†ä¼¤å®³æ›²çº¿å›¾
   - æ·»åŠ æ“ä½œçƒ­åŠ›å›¾
   - æ·»åŠ è¿å‡»ç‰¹æ•ˆ

3. **æ­»äº¡å›æ”¾**
   - æ”¯æŒä¿å­˜/åˆ†äº«å›æ”¾
   - æ”¯æŒæ…¢åŠ¨ä½œå›æ”¾
   - æ·»åŠ å›æ”¾æ§åˆ¶ï¼ˆæš‚åœã€å¿«è¿›ã€å€’é€€ï¼‰
